{"ast":null,"code":"var _jsxFileName = \"/Users/vyacheslavsokolov/Dropbox/react-projects/crud/src/App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport UserTable from './components/UserTable';\n\nfunction App() {\n  const instance = axios.create({\n    baseURL: 'http://178.128.196.163:3000/api/'\n  });\n  const [users, setUsers] = useState([]);\n  const [editing, setEditing] = useState();\n  React.useEffect(() => {\n    instance.get('records').then(response => setUsers(response.data));\n  }, []);\n\n  const deleteUser = id => {\n    instance.delete(`records/${id}`);\n    setUsers(users.filter(user => user._id !== id));\n  };\n\n  const addUser = (userName, userSurname) => {\n    if (userName && userSurname) {\n      const newUser = {\n        \"data\": {\n          \"name\": userName,\n          \"surname\": userSurname\n        }\n      };\n      instance.put('records', {\n        \"data\": {\n          \"name\": userName,\n          \"surname\": userSurname\n        }\n      }).then(() => {\n        alert('Пользователь добавлен');\n      });\n      setUsers([...users, newUser]);\n    } else {\n      alert('Введите данные!');\n    }\n  };\n\n  const updateUser = (id, updatedUser) => {\n    // когда мы готовы обновить пользователя, ставим флажок editing в false\n    setEditing(false); // и обновляем пользователя, если нашли его по id\n\n    setUsers(users.map(user => user.id === id ? updatedUser : user));\n  }; // редактирование пользователя\n\n\n  const editRow = user => {\n    // готовы редактировать - флажок в true\n    setEditing(true); // устанавливаем значения полей для формы редактирования\n    // на основании выбранного \"юзера\"\n\n    setCurrentUser({\n      id: user.id,\n      name: user.name,\n      username: user.username\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserTable, {\n    setUsers: setUsers,\n    users: users,\n    deleteUser: deleteUser,\n    addUser: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vyacheslavsokolov/Dropbox/react-projects/crud/src/App.js"],"names":["React","useState","axios","UserTable","App","instance","create","baseURL","users","setUsers","editing","setEditing","useEffect","get","then","response","data","deleteUser","id","delete","filter","user","_id","addUser","userName","userSurname","newUser","put","alert","updateUser","updatedUser","map","editRow","setCurrentUser","name","username"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;AAEA,SAASC,GAAT,GAAe;AACX,QAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC1BC,IAAAA,OAAO,EAAE;AADiB,GAAb,CAAjB;AAIA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,EAAtC;AAEAD,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AAClBP,IAAAA,QAAQ,CAACQ,GAAT,CAAa,SAAb,EACKC,IADL,CACUC,QAAQ,IAAIN,QAAQ,CAACM,QAAQ,CAACC,IAAV,CAD9B;AAEH,GAHD,EAGG,EAHH;;AAKA,QAAMC,UAAU,GAAIC,EAAD,IAAQ;AACvBb,IAAAA,QAAQ,CAACc,MAAT,CAAiB,WAAUD,EAAG,EAA9B;AACAT,IAAAA,QAAQ,CAACD,KAAK,CAACY,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAaJ,EAAlC,CAAD,CAAR;AACH,GAHD;;AAKA,QAAMK,OAAO,GAAG,CAACC,QAAD,EAAWC,WAAX,KAA2B;AACvC,QAAID,QAAQ,IAAIC,WAAhB,EAA6B;AACzB,YAAMC,OAAO,GAAG;AACZ,gBAAQ;AACJ,kBAAQF,QADJ;AAEJ,qBAAWC;AAFP;AADI,OAAhB;AAMApB,MAAAA,QAAQ,CAACsB,GAAT,CAAa,SAAb,EAAwB;AAAC,gBAAQ;AAAC,kBAAQH,QAAT;AAAmB,qBAAWC;AAA9B;AAAT,OAAxB,EACKX,IADL,CACU,MAAM;AACRc,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACH,OAHL;AAIAnB,MAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWkB,OAAX,CAAD,CAAR;AAEH,KAbD,MAaO;AACHE,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACH;AACJ,GAjBD;;AAmBA,QAAMC,UAAU,GAAG,CAACX,EAAD,EAAKY,WAAL,KAAqB;AACpC;AACAnB,IAAAA,UAAU,CAAC,KAAD,CAAV,CAFoC,CAGpC;;AACAF,IAAAA,QAAQ,CAACD,KAAK,CAACuB,GAAN,CAAUV,IAAI,IAAKA,IAAI,CAACH,EAAL,KAAYA,EAAZ,GAAiBY,WAAjB,GAA+BT,IAAlD,CAAD,CAAR;AACH,GALD,CArCW,CA4CX;;;AACA,QAAMW,OAAO,GAAGX,IAAI,IAAI;AACpB;AACAV,IAAAA,UAAU,CAAC,IAAD,CAAV,CAFoB,CAGpB;AACA;;AACAsB,IAAAA,cAAc,CAAC;AAAEf,MAAAA,EAAE,EAAEG,IAAI,CAACH,EAAX;AAAegB,MAAAA,IAAI,EAAEb,IAAI,CAACa,IAA1B;AAAgCC,MAAAA,QAAQ,EAAEd,IAAI,CAACc;AAA/C,KAAD,CAAd;AACH,GAND;;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,QAAQ,EAAE1B,QAArB;AAA+B,IAAA,KAAK,EAAED,KAAtC;AAA6C,IAAA,UAAU,EAAES,UAAzD;AACW,IAAA,OAAO,EAAEM,OADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADF;AAMH;;AAED,eAAenB,GAAf","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport UserTable from './components/UserTable';\n\nfunction App (){\n    const instance = axios.create({\n        baseURL: 'http://178.128.196.163:3000/api/',\n    })\n\n    const [users, setUsers] = useState([])\n    const [editing, setEditing] = useState()\n\n    React.useEffect(() => {\n        instance.get('records')\n            .then(response => setUsers(response.data))\n    }, [])\n\n    const deleteUser = (id) => {\n        instance.delete(`records/${id}`)\n        setUsers(users.filter(user => user._id !== id))\n    }\n\n    const addUser = (userName, userSurname) => {\n        if (userName && userSurname) {\n            const newUser = {\n                \"data\": {\n                    \"name\": userName,\n                    \"surname\": userSurname,\n                }\n            }\n            instance.put('records', {\"data\": {\"name\": userName, \"surname\": userSurname}})\n                .then(() => {\n                    alert('Пользователь добавлен')\n                })\n            setUsers([...users, newUser])\n\n        } else {\n            alert('Введите данные!')\n        }\n    }\n\n    const updateUser = (id, updatedUser) => {\n        // когда мы готовы обновить пользователя, ставим флажок editing в false\n        setEditing(false)\n        // и обновляем пользователя, если нашли его по id\n        setUsers(users.map(user => (user.id === id ? updatedUser : user)))\n    }\n\n    // редактирование пользователя\n    const editRow = user => {\n        // готовы редактировать - флажок в true\n        setEditing(true)\n        // устанавливаем значения полей для формы редактирования\n        // на основании выбранного \"юзера\"\n        setCurrentUser({ id: user.id, name: user.name, username: user.username })\n    }\n\n    return (\n      <div className=\"App\">\n          <UserTable setUsers={setUsers} users={users} deleteUser={deleteUser}\n                     addUser={addUser} />\n      </div>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}