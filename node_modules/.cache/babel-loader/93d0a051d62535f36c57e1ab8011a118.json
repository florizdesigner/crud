{"ast":null,"code":"var _jsxFileName = \"/Users/vyacheslavsokolov/Dropbox/react-projects/crud/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport UserTable from './components/UserTable';\n\nfunction App() {\n  const instance = axios.create({\n    baseURL: 'http://178.128.196.163:3000/api/'\n  });\n  const [users, setUsers] = React.useState([{\n    _id: null,\n    data: {\n      name: '',\n      surname: ''\n    },\n    __v: 0\n  }]);\n  React.useEffect(() => {\n    instance.get('records').then(response => setUsers(response.data));\n  }, []);\n\n  const deleteUser = id => {\n    instance.delete(`records/${id}`);\n    setUsers(users.filter(user => user._id !== id));\n  };\n\n  let currentName = '';\n  let currentSurname = '';\n  let newNameText = React.createRef();\n  let newSurnameText = React.createRef();\n\n  const currentNameChange = event => {\n    newNameText.current.value = currentName;\n  };\n\n  const addUser = (userName, userSurname) => {\n    if (userName && userSurname) {\n      const newUser = {\n        \"_id\": Math.random().toString(36).substr(5, 12),\n        \"data\": {\n          \"name\": userName,\n          \"surname\": userSurname\n        },\n        \"__v\": 0\n      };\n      setUsers([...users, newUser]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserTable, {\n    setUsers: setUsers,\n    users: users,\n    deleteUser: deleteUser,\n    newNameText: newNameText,\n    currentNameChange: currentNameChange,\n    addUser: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vyacheslavsokolov/Dropbox/react-projects/crud/src/App.js"],"names":["React","axios","UserTable","App","instance","create","baseURL","users","setUsers","useState","_id","data","name","surname","__v","useEffect","get","then","response","deleteUser","id","delete","filter","user","currentName","currentSurname","newNameText","createRef","newSurnameText","currentNameChange","event","current","value","addUser","userName","userSurname","newUser","Math","random","toString","substr"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;AAEA,SAASC,GAAT,GAAe;AACX,QAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC1BC,IAAAA,OAAO,EAAE;AADiB,GAAb,CAAjB;AAIA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,KAAK,CAACS,QAAN,CAAe,CAAC;AAACC,IAAAA,GAAG,EAAE,IAAN;AAAYC,IAAAA,IAAI,EAAE;AAACC,MAAAA,IAAI,EAAE,EAAP;AAAWC,MAAAA,OAAO,EAAE;AAApB,KAAlB;AAA2CC,IAAAA,GAAG,EAAE;AAAhD,GAAD,CAAf,CAA1B;AAEAd,EAAAA,KAAK,CAACe,SAAN,CAAgB,MAAM;AAClBX,IAAAA,QAAQ,CAACY,GAAT,CAAa,SAAb,EACKC,IADL,CACUC,QAAQ,IAAIV,QAAQ,CAACU,QAAQ,CAACP,IAAV,CAD9B;AAEH,GAHD,EAGG,EAHH;;AAKA,QAAMQ,UAAU,GAAIC,EAAD,IAAQ;AACvBhB,IAAAA,QAAQ,CAACiB,MAAT,CAAiB,WAAUD,EAAG,EAA9B;AACAZ,IAAAA,QAAQ,CAACD,KAAK,CAACe,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACb,GAAL,KAAaU,EAAlC,CAAD,CAAR;AACH,GAHD;;AAMA,MAAII,WAAW,GAAG,EAAlB;AACA,MAAIC,cAAc,GAAG,EAArB;AAEA,MAAIC,WAAW,GAAG1B,KAAK,CAAC2B,SAAN,EAAlB;AACA,MAAIC,cAAc,GAAG5B,KAAK,CAAC2B,SAAN,EAArB;;AAEA,QAAME,iBAAiB,GAAIC,KAAD,IAAW;AACjCJ,IAAAA,WAAW,CAACK,OAAZ,CAAoBC,KAApB,GAA4BR,WAA5B;AACH,GAFD;;AAIA,QAAMS,OAAO,GAAG,CAACC,QAAD,EAAWC,WAAX,KAA2B;AACvC,QAAID,QAAQ,IAAIC,WAAhB,EAA6B;AACzB,YAAMC,OAAO,GAAG;AACZ,eAAOC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAoC,EAApC,CADK;AAEZ,gBAAQ;AACJ,kBAAQN,QADJ;AAEJ,qBAAWC;AAFP,SAFI;AAMZ,eAAO;AANK,OAAhB;AAQA3B,MAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAW6B,OAAX,CAAD,CAAR;AACH;AACJ,GAZD;;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,QAAQ,EAAE5B,QAArB;AAA+B,IAAA,KAAK,EAAED,KAAtC;AAA6C,IAAA,UAAU,EAAEY,UAAzD;AAAqE,IAAA,WAAW,EAAEO,WAAlF;AAA+F,IAAA,iBAAiB,EAAEG,iBAAlH;AAAqI,IAAA,OAAO,EAAEI,OAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADF;AAKH;;AAED,eAAe9B,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport UserTable from './components/UserTable';\n\nfunction App (){\n    const instance = axios.create({\n        baseURL: 'http://178.128.196.163:3000/api/',\n    })\n\n    const [users, setUsers] = React.useState([{_id: null, data: {name: '', surname: ''}, __v: 0}])\n\n    React.useEffect(() => {\n        instance.get('records')\n            .then(response => setUsers(response.data))\n    }, [])\n\n    const deleteUser = (id) => {\n        instance.delete(`records/${id}`)\n        setUsers(users.filter(user => user._id !== id))\n    }\n\n\n    let currentName = ''\n    let currentSurname = ''\n\n    let newNameText = React.createRef()\n    let newSurnameText = React.createRef()\n\n    const currentNameChange = (event) => {\n        newNameText.current.value = currentName\n    }\n\n    const addUser = (userName, userSurname) => {\n        if (userName && userSurname) {\n            const newUser = {\n                \"_id\": Math.random().toString(36).substr(5,12),\n                \"data\": {\n                    \"name\": userName,\n                    \"surname\": userSurname,\n                },\n                \"__v\": 0\n            }\n            setUsers([...users, newUser])\n        }\n    }\n\n\n    return (\n      <div className=\"App\">\n          <UserTable setUsers={setUsers} users={users} deleteUser={deleteUser} newNameText={newNameText} currentNameChange={currentNameChange} addUser={addUser} />\n      </div>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}